请教下有人知道为啥1.5之前java double check无效吗？我看网上的文章，大概分为两种原因：
1 new的过程不是原子操作
2 new的过程存在无序性。
但我觉得加了synchronized关键字能解决这两个问题。 一直没想明白。
[图片]

http://blog.csdn.net/imzoer/article/details/8620801
http://www.cnblogs.com/yc_sunniwell/archive/2010/07/14/1777432.html
java有点忽悠人


这里面这么写：在 Java 中双重检查模式无效的原因是在不同步的情况下引用类型不是线程安全的。对于除了 long 和 double 的基本类型，双重检查模式是适用 的。

说是new过程是无序的，比如这样：
1 先分配内存，让instance指向这块内存
2 在内存中创建对象
另一个线程可能在1,2间过来，去判断instance的时候，发现不是null，就去用了。而这个instance可能还没初始化

我说的是加volatile的情况 jdk1.5

这么做的原因是static的加载实际是类的第一次装载
上面这个SingletonHolder不装载时，就不会生成instance

加个内部类有什么用？为什么不直接生命静态变量